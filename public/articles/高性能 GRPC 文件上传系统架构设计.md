# é«˜æ€§èƒ½ gRPC æ–‡ä»¶ä¸Šä¼ ç³»ç»Ÿæ¶æ„è®¾è®¡

## 1. æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å®¢æˆ·ç«¯å±‚                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   æ–‡ä»¶åˆ†ç‰‡   â”‚  â”‚   å¹¶å‘ä¸Šä¼ æ±      â”‚   â”‚
â”‚  â”‚   ç®¡ç†å™¨    â”‚  â”‚  (å¤šä¸ªgRPCæµ)   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  æ–­ç‚¹ç»­ä¼    â”‚  â”‚   è¿›åº¦ç›‘æ§      â”‚   â”‚
â”‚  â”‚   æ§åˆ¶å™¨    â”‚  â”‚   & é‡è¯•æœºåˆ¶    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                 gRPC æµ
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              æœåŠ¡ç«¯å±‚                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚        gRPC Service Layer          â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚æµå¼ä¸Šä¼ æ¥å£â”‚ â”‚ ä¼šè¯ç®¡ç†æ¥å£     â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚       ä¸šåŠ¡é€»è¾‘å±‚ (Service)          â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ä¸Šä¼ ä¼šè¯ç®¡ç†â”‚ â”‚ åˆ†ç‰‡å¤„ç†å¼•æ“     â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚æ–‡ä»¶å®Œæ•´æ€§â”‚ â”‚  å¹¶å‘æ§åˆ¶å™¨      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚éªŒè¯å¼•æ“  â”‚ â”‚                  â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         å­˜å‚¨å±‚ (Storage)           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ä¸´æ—¶æ–‡ä»¶å­˜å‚¨â”‚ â”‚ å…ƒæ•°æ®å­˜å‚¨       â”‚ â”‚ â”‚
â”‚  â”‚  â”‚(RandomFile)â”‚ â”‚ (å†…å­˜+æŒä¹…åŒ–)   â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2. æ ¸å¿ƒè®¾è®¡ç†å¿µ

### 2.1 åˆ†å±‚æ¶æ„
- **æ¥å£å±‚**: gRPC æœåŠ¡å®šä¹‰ï¼Œæä¾›æ ‡å‡†åŒ– API
- **ä¸šåŠ¡å±‚**: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œä¼šè¯ç®¡ç†å’Œåˆ†ç‰‡å¤„ç†
- **å­˜å‚¨å±‚**: æ–‡ä»¶å­˜å‚¨å’Œå…ƒæ•°æ®ç®¡ç†

### 2.2 å…³é”®è®¾è®¡åŸåˆ™
- **é«˜å¹¶å‘**: æ”¯æŒå¤šæµå¹¶å‘ä¸Šä¼ ï¼Œæå‡ååé‡
- **å®¹é”™æ€§**: ä¹±åºæ¥æ”¶ã€è‡ªåŠ¨å»é‡ã€æ–­ç‚¹ç»­ä¼ 
- **å¯æ‰©å±•**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤
- **é«˜æ€§èƒ½**: å¼‚æ­¥å¤„ç†ã€å†…å­˜ä¼˜åŒ–ã€é›¶æ‹·è´

## 3. æŠ€æœ¯ç»„ä»¶è¯¦è§£

### 3.1 gRPC åè®®è®¾è®¡
```protobuf
// æ ¸å¿ƒæœåŠ¡æ¥å£
service FileTransferService {
  rpc InitiateUpload(InitiateUploadRequest) returns (InitiateUploadResponse);
  rpc UploadChunk(stream UploadChunkRequest) returns (stream UploadChunkResponse);
  rpc GetUploadStatus(GetUploadStatusRequest) returns (GetUploadStatusResponse);
  rpc CompleteUpload(CompleteUploadRequest) returns (CompleteUploadResponse);
}
```

**è®¾è®¡äº®ç‚¹**:
- åˆ†é˜¶æ®µä¸Šä¼ ï¼šåˆå§‹åŒ– â†’ åˆ†ç‰‡ä¸Šä¼  â†’ å®ŒæˆéªŒè¯
- åŒå‘æµå¼ä¼ è¾“ï¼šæ”¯æŒå¹¶å‘åˆ†ç‰‡å’Œå®æ—¶å“åº”
- çŠ¶æ€æŸ¥è¯¢æ¥å£ï¼šæ”¯æŒæ–­ç‚¹ç»­ä¼ å’Œè¿›åº¦ç›‘æ§

### 3.2 ä¼šè¯ç®¡ç†å™¨ (UploadSessionManager)
```java
// æ ¸å¿ƒæ•°æ®ç»“æ„
public class UploadSession {
    private final Set<Integer> uploadedChunks = ConcurrentHashMap.newKeySet();
    private final Map<Integer, ChunkInfo> chunkInfoMap = new ConcurrentHashMap<>();
    private final ReentrantReadWriteLock lock = new ReentrantReadWriteLock();
}
```

**æ ¸å¿ƒåŠŸèƒ½**:
- **ä¼šè¯ç”Ÿå‘½å‘¨æœŸç®¡ç†**: åˆ›å»ºã€ç»´æŠ¤ã€æ¸…ç†
- **åˆ†ç‰‡çŠ¶æ€è·Ÿè¸ª**: è®°å½•å·²ä¸Šä¼ åˆ†ç‰‡ï¼Œæ”¯æŒå»é‡
- **å¹¶å‘å®‰å…¨**: è¯»å†™é”ä¿æŠ¤ï¼Œæ”¯æŒå¹¶å‘è®¿é—®
- **æ–­ç‚¹ç»­ä¼ **: æŒä¹…åŒ–ä¸Šä¼ çŠ¶æ€

### 3.3 å¹¶å‘å¤„ç†å¼•æ“
```java
// å¼‚æ­¥å¤„ç†çº¿ç¨‹æ± 
private ExecutorService executorService = Executors.newFixedThreadPool(20);

// åˆ†ç‰‡å¼‚æ­¥å¤„ç†
executorService.submit(() -> processChunk(request, responseObserver));
```

**æ€§èƒ½ä¼˜åŒ–**:
- **çº¿ç¨‹æ± ç®¡ç†**: é™åˆ¶å¹¶å‘æ•°ï¼Œé¿å…èµ„æºè€—å°½
- **å¼‚æ­¥å¤„ç†**: éé˜»å¡åˆ†ç‰‡å¤„ç†
- **æµå¼ä¼ è¾“**: æ”¯æŒå¤šä¸ª gRPC æµå¹¶å‘ä¸Šä¼ 

## 4. å…³é”®æŠ€æœ¯å®ç°

### 4.1 åˆ†ç‰‡ä¹±åºæ¥æ”¶
```java
public boolean writeChunk(int chunkIndex, long offset, byte[] data, String chunkHash) {
    // æ£€æŸ¥é‡å¤ä¸Šä¼ 
    if (uploadedChunks.contains(chunkIndex)) {
        return true; // å¹‚ç­‰å¤„ç†
    }
    
    // éšæœºä½ç½®å†™å…¥
    RandomAccessFile raf = getRandomAccessFile();
    raf.seek(offset);
    raf.write(data);
    
    uploadedChunks.add(chunkIndex);
}
```

### 4.2 è‡ªåŠ¨å»é‡æœºåˆ¶
```java
// åŸºäºåˆ†ç‰‡ç´¢å¼•çš„å»é‡
private final Set<Integer> uploadedChunks = ConcurrentHashMap.newKeySet();

// åŸºäºå†…å®¹å“ˆå¸Œçš„éªŒè¯
private boolean verifyChunkHash(byte[] data, String expectedHash) {
    // MD5 æ ¡éªŒç¡®ä¿æ•°æ®å®Œæ•´æ€§
}
```

### 4.3 æ–­ç‚¹ç»­ä¼ å®ç°
```java
// 1. å®¢æˆ·ç«¯æŸ¥è¯¢å·²ä¸Šä¼ åˆ†ç‰‡
GetUploadStatusResponse status = stub.getUploadStatus(request);

// 2. è·³è¿‡å·²ä¸Šä¼ çš„åˆ†ç‰‡
if (status.getUploadedChunksList().contains(chunkIndex)) {
    continue; // è·³è¿‡å·²ä¸Šä¼ åˆ†ç‰‡
}

// 3. ä»…ä¸Šä¼ ç¼ºå¤±åˆ†ç‰‡
uploadMissingChunks(status.getMissingChunksList());
```

## 5. å®¢æˆ·ç«¯æ¶æ„è®¾è®¡

### 5.1 å¹¶å‘ä¸Šä¼ æ§åˆ¶å™¨
```java
public class ConcurrentUploadController {
    private final ExecutorService uploadPool;
    private final Semaphore concurrencyLimit;
    private final List<ManagedChannel> channels;
    
    // å¤šé€šé“å¹¶å‘ä¸Šä¼ 
    public void startConcurrentUpload() {
        for (int i = 0; i < concurrency; i++) {
            uploadPool.submit(new ChunkUploadTask(channels.get(i % channels.size())));
        }
    }
}
```

### 5.2 æ™ºèƒ½é‡è¯•æœºåˆ¶
```java
public class RetryController {
    private final ExponentialBackoff backoff;
    private final Map<Integer, Integer> chunkRetryCount;
    
    // æŒ‡æ•°é€€é¿é‡è¯•
    public boolean shouldRetry(int chunkIndex, Exception error) {
        int retryCount = chunkRetryCount.getOrDefault(chunkIndex, 0);
        return retryCount < maxRetries && isRetriableError(error);
    }
}
```

## 6. æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 6.1 å†…å­˜ä¼˜åŒ–
- **åˆ†ç‰‡å¤§å°æ§åˆ¶**: é»˜è®¤ 1MBï¼Œå¹³è¡¡å†…å­˜å’Œç½‘ç»œæ•ˆç‡
- **æµå¼å¤„ç†**: é¿å…å¤§æ–‡ä»¶å…¨é‡åŠ è½½
- **ç¼“å†²åŒºå¤ç”¨**: å‡å°‘å†…å­˜åˆ†é…å¼€é”€

### 6.2 ç½‘ç»œä¼˜åŒ–
- **å¹¶å‘è¿æ¥**: å¤šä¸ª gRPC é€šé“å¹¶è¡Œä¼ è¾“
- **å‹ç¼©ä¼ è¾“**: gRPC å†…ç½®å‹ç¼©æ”¯æŒ
- **è¿æ¥å¤ç”¨**: é•¿è¿æ¥å‡å°‘æ¡æ‰‹å¼€é”€

### 6.3 å­˜å‚¨ä¼˜åŒ–
- **éšæœºå†™å…¥**: RandomAccessFile æ”¯æŒä»»æ„ä½ç½®å†™å…¥
- **å†™å…¥ç¼“å†²**: æ“ä½œç³»ç»Ÿçº§åˆ«çš„å†™ç¼“å†²ä¼˜åŒ–
- **ä¸´æ—¶æ–‡ä»¶**: ä¸Šä¼ å®ŒæˆååŸå­æ€§ç§»åŠ¨åˆ°æœ€ç»ˆä½ç½®

## 7. ç›‘æ§å’Œè¿ç»´

### 7.1 å…³é”®æŒ‡æ ‡ç›‘æ§
```java
// æ€§èƒ½æŒ‡æ ‡
- ä¸Šä¼ é€Ÿåº¦ (MB/s)
- å¹¶å‘è¿æ¥æ•°
- åˆ†ç‰‡æˆåŠŸç‡
- å¹³å‡å“åº”æ—¶é—´

// ä¸šåŠ¡æŒ‡æ ‡  
- æ´»è·ƒä¸Šä¼ ä¼šè¯æ•°
- æ–­ç‚¹ç»­ä¼ æˆåŠŸç‡
- æ–‡ä»¶å®Œæ•´æ€§éªŒè¯é€šè¿‡ç‡
```

### 7.2 å¼‚å¸¸å¤„ç†å’Œæ¢å¤
```java
// è‡ªåŠ¨é‡è¯•ç­–ç•¥
@Retryable(value = {IOException.class}, maxAttempts = 3)

// ç†”æ–­ä¿æŠ¤
@CircuitBreaker(name = "file-upload", fallbackMethod = "fallbackUpload")

// ä¼šè¯æ¸…ç†
@Scheduled(fixedRate = 300000) // 5åˆ†é’Ÿæ¸…ç†ä¸€æ¬¡è¿‡æœŸä¼šè¯
```

## 8. éƒ¨ç½²å’Œæ‰©å±•

### 8.1 æ°´å¹³æ‰©å±•æ”¯æŒ
- **æ— çŠ¶æ€è®¾è®¡**: ä¼šè¯ä¿¡æ¯å¯å¤–éƒ¨å­˜å‚¨ï¼ˆRedis/æ•°æ®åº“ï¼‰
- **è´Ÿè½½å‡è¡¡**: æ”¯æŒå¤šå®ä¾‹éƒ¨ç½²
- **å­˜å‚¨åˆ†ç¦»**: æ–‡ä»¶å­˜å‚¨å¯ä½¿ç”¨åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿ

### 8.2 é…ç½®å‚æ•°è°ƒä¼˜
```yaml
# æ€§èƒ½è°ƒä¼˜å‚æ•°
grpc:
  server:
    max-inbound-message-size: 4MB
    max-concurrent-calls-per-connection: 10
    
file-upload:
  chunk-size: 1MB
  max-concurrent-uploads: 20
  session-timeout: 1h
  cleanup-interval: 5m
```

## 9. å®‰å…¨è€ƒè™‘

### 9.1 æ•°æ®å®Œæ•´æ€§
- **åˆ†ç‰‡çº§æ ¡éªŒ**: æ¯ä¸ªåˆ†ç‰‡ MD5 éªŒè¯
- **æ–‡ä»¶çº§æ ¡éªŒ**: å®Œæ•´æ–‡ä»¶å“ˆå¸ŒéªŒè¯
- **ä¼ è¾“åŠ å¯†**: gRPC TLS æ”¯æŒ

### 9.2 è®¿é—®æ§åˆ¶
- **ä¼šè¯éš”ç¦»**: åŸºäºå®¢æˆ·ç«¯ ID çš„ä¼šè¯éš”ç¦»
- **æƒé™éªŒè¯**: å¯é›†æˆè®¤è¯æˆæƒæœºåˆ¶
- **èµ„æºé™åˆ¶**: é˜²æ­¢æ¶æ„å¤§æ–‡ä»¶ä¸Šä¼ 

è¿™ä¸ªæ¶æ„è®¾è®¡æä¾›äº†ä¼ä¸šçº§çš„é«˜æ€§èƒ½æ–‡ä»¶ä¸Šä¼ è§£å†³æ–¹æ¡ˆï¼Œå…·å¤‡é«˜å¹¶å‘ã€é«˜å¯ç”¨ã€æ˜“æ‰©å±•çš„ç‰¹ç‚¹ã€‚



## æ€»ç»“

é€šè¿‡å°†æ–‡ä»¶å­˜å‚¨åŠŸèƒ½æŠ½è±¡å‡ºæ¥ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªçµæ´»ã€å¯æ‰©å±•çš„æ¶æ„è®¾è®¡ï¼š

### ğŸ—ï¸ æ¶æ„ä¼˜åŠ¿

1. **è§£è€¦åˆ**: ä¸šåŠ¡é€»è¾‘ä¸å­˜å‚¨å®ç°å®Œå…¨åˆ†ç¦»
2. **å¯æ‰©å±•**: è½»æ¾æ·»åŠ æ–°çš„å­˜å‚¨åç«¯ï¼ˆS3ã€MinIOã€HDFSç­‰ï¼‰
3. **å¯é…ç½®**: é€šè¿‡Spring ProfileåŠ¨æ€åˆ‡æ¢å­˜å‚¨ç±»å‹
4. **é«˜æ€§èƒ½**: æ”¯æŒæœ¬åœ°é«˜é€Ÿå­˜å‚¨å’Œäº‘å­˜å‚¨çš„ä¸åŒä¼˜åŠ¿

### ğŸ“¦ æ ¸å¿ƒç»„ä»¶

**æŠ½è±¡å±‚**:
- `FileStorageService` æ¥å£ï¼šç»Ÿä¸€çš„å­˜å‚¨æ“ä½œAPI
- `StorageConfiguration` æ¥å£ï¼šå­˜å‚¨é…ç½®æŠ½è±¡

**å®ç°å±‚**:
- `LocalFileStorageService`ï¼šæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨
- `OSSFileStorageService`ï¼šé˜¿é‡Œäº‘OSSå­˜å‚¨
- `HybridFileStorageService`ï¼šæ··åˆå­˜å‚¨ç­–ç•¥

**ä¸šåŠ¡å±‚**:
- `FileTransferServiceImpl`ï¼šé‡æ„åçš„gRPCæœåŠ¡ï¼Œä¸“æ³¨ä¸šåŠ¡é€»è¾‘

### ğŸš€ ä½¿ç”¨åœºæ™¯

1. **å¼€å‘æµ‹è¯•**: ä½¿ç”¨æœ¬åœ°å­˜å‚¨ï¼Œå¿«é€Ÿå¼€å‘è°ƒè¯•
2. **ç”Ÿäº§ç¯å¢ƒ**: ä½¿ç”¨äº‘å­˜å‚¨ï¼Œä¿è¯å¯é æ€§å’Œæ‰©å±•æ€§
3. **æ··åˆéƒ¨ç½²**: å°æ–‡ä»¶æœ¬åœ°ç¼“å­˜ï¼Œå¤§æ–‡ä»¶äº‘å­˜å‚¨

### ğŸ”§ é…ç½®ç¤ºä¾‹

```yaml
# æœ¬åœ°å¼€å‘
spring.profiles.active: local

# ç”Ÿäº§ç¯å¢ƒ  
spring.profiles.active: prod

# æ··åˆå­˜å‚¨
spring.profiles.active: hybrid
```

è¿™ä¸ªè®¾è®¡å®ç°äº†çœŸæ­£çš„**å­˜å‚¨æ— å…³æ€§**ï¼Œè®©æ–‡ä»¶ä¸Šä¼ ç³»ç»Ÿèƒ½å¤Ÿé€‚åº”ä¸åŒçš„éƒ¨ç½²ç¯å¢ƒå’Œä¸šåŠ¡éœ€æ±‚ï¼ŒåŒæ—¶ä¿æŒä»£ç çš„æ•´æ´å’Œå¯ç»´æŠ¤æ€§ã€‚